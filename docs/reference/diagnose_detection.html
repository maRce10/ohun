<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Evaluate the performance of a signal detection procedure — diagnose_detection • ohun</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Evaluate the performance of a signal detection procedure — diagnose_detection" />
<meta property="og:description" content="diagnose_detection evaluates the performance of a signal detection procedure comparing the output selection table to a reference selection table" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ohun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ohun.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">vignettes</li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/ohun/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate the performance of a signal detection procedure</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/ohun/blob/master/R/diagnose_detection.R'><code>R/diagnose_detection.R</code></a></small>
    <div class="hidden name"><code>diagnose_detection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>diagnose_detection</code> evaluates the performance of a signal detection procedure comparing the output selection table to a reference selection table</p>
    </div>

    <pre class="usage"><span class='fu'>diagnose_detection</span><span class='op'>(</span><span class='va'>reference</span>, <span class='va'>detection</span>, by.sound.file <span class='op'>=</span> <span class='cn'>FALSE</span>,
time.diagnostics <span class='op'>=</span> <span class='cn'>FALSE</span>, parallel <span class='op'>=</span> <span class='fl'>1</span>, pb <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>reference</th>
      <td><p>Data frame or 'selection.table' (following the warbleR package format) with the reference selections (start and end of the signals) that will be used to evaluate the performance of the detection, represented by those selections in 'detection'. Must contained at least the following columns: "sound.files", "selec", "start" and "end". <strong>It must contain the reference selections that will be used for detection optimization</strong>.</p></td>
    </tr>
    <tr>
      <th>detection</th>
      <td><p>Data frame or 'selection.table' with the detections (start and end of the signals) that will be compared against the 'reference' selections. Must contained at least the following columns: "sound.files", "selec", "start" and "end". It can contain data for additional sound files not found in 'references'. In this case the routine assumes that no signals are found in those files, so detection from those files are all false positives.</p></td>
    </tr>
    <tr>
      <th>by.sound.file</th>
      <td><p>Logical argument to control whether performance diagnostics are summarized across sound files (when <code>by.sound.file = FALSE</code>, when more than 1 sound file is included in 'reference') or shown separated by sound file. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>time.diagnostics</th>
      <td><p>Logical argument to control if diagnostics related to the duration of the signals ("mean.duration.true.positives", "mean.duration.false.positives", "mean.duration.false.negatives" and "proportional.duration.true.positives") are returned (if <code>TRUE</code>). Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Numeric. Controls whether parallel computing is applied.
It specifies the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></td>
    </tr>
    <tr>
      <th>pb</th>
      <td><p>Logical argument to control progress bar. Default is <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame including the following detection performance diagnostics:</p><ul>
<li><p><code>true.positives</code>: number of signals in 'reference' that correspond to any detection. Matching is defined as some degree of overlap in time. In a perfect detection routine it should be equal to the number of rows in 'reference'.</p></li>
<li><p><code>false.positives</code>: number of detections that don't match any of the signals in 'reference'. In a perfect detection routine it should be 0.</p></li>
<li><p><code>false.negatives</code>: number of signals in 'reference' that were not detected (not found in 'detection'. In a perfect detection routine it should be 0.</p></li>
<li><p><code>split.positives</code>: number of signals in 'reference' that were overlapped by more than 1 detection (i.e. detections that were split). In a perfect detection routine it should be 0.</p></li>
<li><p><code>merged.positives</code>: number of signals in 'detection' that were overlapped by more than 1 detection (i.e. signals that were merged). In a perfect detection routine it should be 0.</p></li>
<li><p><code>mean.duration.true.positives</code>: mean duration of true positives (in s). Only included when <code>time.diagnostics = TRUE</code>.</p></li>
<li><p><code>mean.duration.false.positives</code>: mean duration of false positives (in s). Only included when <code>time.diagnostics = TRUE</code>.</p></li>
<li><p><code>mean.duration.false.negatives</code>: mean duration of false negatives (in s). Only included when <code>time.diagnostics = TRUE</code>.</p></li>
<li><p><code>proportional.overlap.true.positives</code>: ratio of the time overlap of true positives in 'detection' with its corresponding reference signal to the duration of the reference signal.</p></li>
<li><p><code>proportional.duration.true.positives</code>: ratio of duration of true positives to th duration of signals in 'reference'. In a perfect detection routine it should be 1. Based only on true positives that were not split or merged</p></li>
<li><p><code>sensitivity</code>: Proportion of signals in 'reference' that were detected. In a perfect detection routine it should be 1.</p></li>
<li><p><code>specificity</code>: Proportion of detections that correspond to signals in 'reference' that were detected. In a perfect detection routine it should be 1.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function evaluates the performance of a signal detection procedure by comparing its output selection table to a reference selection table in which all signals of interest have been selected.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas, M. (2021), ohun: automatic detection of acoustic signals. R package version 0.1.0.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>optimize_auto_detec</code>, <code>optimize_find_peaks</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Marcelo Araya-Salas <a href='mailto:marcelo.araya@ucr.ac.cr'>marcelo.araya@ucr.ac.cr</a>)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='op'>{</span>
<span class='co'># perfect detection</span>
<span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_selec_reference</span>, detection <span class='op'>=</span> <span class='va'>lbh_selec_reference</span><span class='op'>)</span>

<span class='co'># missing one in detection</span>
<span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_selec_reference</span>, detection <span class='op'>=</span> <span class='va'>lbh_selec_reference</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span>, <span class='op'>]</span><span class='op'>)</span>

<span class='co'># an extra one in detection</span>
<span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_selec_reference</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span>, <span class='op'>]</span>, detection <span class='op'>=</span> <span class='va'>lbh_selec_reference</span><span class='op'>)</span>

<span class='co'># with time diagnostics</span>
<span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_selec_reference</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span>, <span class='op'>]</span>,
detection <span class='op'>=</span> <span class='va'>lbh_selec_reference</span>, time.diagnostics <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># and extra sound file in reference</span>
<span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_selec_reference</span>,
detection <span class='op'>=</span>
<span class='va'>lbh_selec_reference</span><span class='op'>[</span><span class='va'>lbh_selec_reference</span><span class='op'>$</span><span class='va'>sound.files</span> <span class='op'>!=</span> <span class='st'>"Phae.long1.wav"</span>, <span class='op'>]</span><span class='op'>)</span>

<span class='co'># and extra sound file in detection</span>
<span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span>
<span class='va'>lbh_selec_reference</span><span class='op'>[</span><span class='va'>lbh_selec_reference</span><span class='op'>$</span><span class='va'>sound.files</span> <span class='op'>!=</span> <span class='st'>"Phae.long1.wav"</span>, <span class='op'>]</span>,
detection <span class='op'>=</span> <span class='va'>lbh_selec_reference</span><span class='op'>)</span>

<span class='co'># and extra sound file in detection by sound file</span>
<span class='va'>dd</span> <span class='op'>&lt;-</span> <span class='fu'>diagnose_detection</span><span class='op'>(</span>reference <span class='op'>=</span>
<span class='va'>lbh_selec_reference</span><span class='op'>[</span><span class='va'>lbh_selec_reference</span><span class='op'>$</span><span class='va'>sound.files</span> <span class='op'>!=</span> <span class='st'>"Phae.long1.wav"</span>, <span class='op'>]</span>,
detection <span class='op'>=</span> <span class='va'>lbh_selec_reference</span>, time.diagnostics <span class='op'>=</span> <span class='cn'>TRUE</span>, by.sound.file <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># get summary</span>
<span class='fu'><a href='summarize_diagnostic.html'>summarize_diagnostic</a></span><span class='op'>(</span><span class='va'>dd</span><span class='op'>)</span>


<span class='op'>}</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


